<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
			xmlns:th="http://www.thymeleaf.org"
			th:replace="~{fragments/layout :: layout (~{::body},'dashboard')}">
<head>
	<link rel="stylesheet" type="text/css" th:href="@{/css/layout.css}"/>
	<link rel="stylesheet" type="text/css" th:href="@{/css/grid.css}"/>
	<link rel="stylesheet" type="text/css" th:href="@{/css/component.css}"/>
</head>
<body >
<div class="abs">
	<div>
		<div class="showcase card card-colored-0">
			<div class="showcase-title">
				<h2>List of users</h2>
<!--				<h3>Handling auto fitting</h3>-->
<!--				<p>Using auto-fit and minmax()</p>-->
			</div>

			<div class="showcase-container grid fgrid ">
				<div th:each="user : ${list}">
					<div class="card card-element card-colored-1 fcard ">
						<p class="form-label" th:text="${user.username}"></p>
						<br/>
						<p class="form-label" th:text="${user.email}"></p>
						<br/>
						<p class="form-label" th:text="${user.rCode}"></p>
						<br/>
						<p class="form-label" th:text="${user.iCode}"></p>
						<br/>
						<p class="form-label" th:text="${user.score}"></p>
						<br/>
						<p class="form-label" th:text="${user.invitees}"></p>
					</div>
				</div>
			</div>
			<p class="form-label" id="pagen" th:text="${#request.getParameter('page')}"></p>
			<button id="page_prev" onclick="paginate(this)">Prev</button>
			<button id="page_next" onclick="paginate(this)">Next</button>
			<script>
				function paginate(paction)
				{
						var pagen = parseInt(document.getElementById('pagen').innerText);
						pagen += 1 - 2 * (paction.id == "page_prev");
						if (pagen > -1)
						{
						    const url = '/list?page=' + pagen;
						    location.replace(url);
						}
				}
			</script>
		</div>
	</div>

	<!--<ul>-->
	<!--    <li>-->
	<!--        <a href="/dashboard/refer">Refer and earn</a>-->
	<!--    </li>-->
	<!--    <li>-->
	<!--        <a href="/logout">Logout</a>-->
	<!--    </li>-->
	<!--</ul>-->
</div>
</body>
</html>